{"version":3,"sources":["../../../src/domain/entity/DecodedToken.spec.ts"],"sourcesContent":["import fc from 'fast-check';\nimport { describe, expect, it } from 'vitest';\n\nimport { Email, PersonnelId } from '../value';\n\nimport { DecodedToken, IDecodedToken } from './DecodedToken';\n\nfunction makeCreateDecodedTokenProperty() {\n  return fc\n    .record({\n      personnelId: fc.option(fc.uuid({ version: 7 }), { nil: undefined }),\n      userId: fc\n        .string({ minLength: 1, maxLength: 256 })\n        .map((val) => val.trim())\n        .filter((val) => val.length >= 1),\n      email: fc.emailAddress(),\n    })\n    .map<IDecodedToken>(({ personnelId, userId, email }) => ({\n      personnelId: personnelId ? PersonnelId.from(personnelId) : undefined,\n      userId,\n      email: Email.from(email),\n    }));\n}\n\ndescribe('DecodedToken', () => {\n  it('should return DecodedToken when input is valid', () => {\n    fc.assert(\n      fc.property(makeCreateDecodedTokenProperty(), (args) => {\n        const value = new DecodedToken(args);\n\n        expect(value).toBeInstanceOf(DecodedToken);\n        expect(value.personnelId?.value).toEqual(args.personnelId?.value);\n        expect(value.userId).toEqual(args.userId);\n        expect(value.email.value).toEqual(args.email.value);\n      }),\n    );\n  });\n});\n"],"names":["fc","describe","expect","it","Email","PersonnelId","DecodedToken","makeCreateDecodedTokenProperty","record","personnelId","option","uuid","version","nil","undefined","userId","string","minLength","maxLength","map","val","trim","filter","length","email","emailAddress","from","assert","property","args","value","toBeInstanceOf","toEqual"],"mappings":"AAAA,OAAOA,QAAQ,aAAa;AAC5B,SAASC,QAAQ,EAAEC,MAAM,EAAEC,EAAE,QAAQ,SAAS;AAE9C,SAASC,KAAK,EAAEC,WAAW,QAAQ,oBAAW;AAE9C,SAASC,YAAY,QAAuB,oBAAiB;AAE7D,SAASC;IACP,OAAOP,GACJQ,MAAM,CAAC;QACNC,aAAaT,GAAGU,MAAM,CAACV,GAAGW,IAAI,CAAC;YAAEC,SAAS;QAAE,IAAI;YAAEC,KAAKC;QAAU;QACjEC,QAAQf,GACLgB,MAAM,CAAC;YAAEC,WAAW;YAAGC,WAAW;QAAI,GACtCC,GAAG,CAAC,CAACC,MAAQA,IAAIC,IAAI,IACrBC,MAAM,CAAC,CAACF,MAAQA,IAAIG,MAAM,IAAI;QACjCC,OAAOxB,GAAGyB,YAAY;IACxB,GACCN,GAAG,CAAgB,CAAC,EAAEV,WAAW,EAAEM,MAAM,EAAES,KAAK,EAAE,GAAM,CAAA;YACvDf,aAAaA,cAAcJ,YAAYqB,IAAI,CAACjB,eAAeK;YAC3DC;YACAS,OAAOpB,MAAMsB,IAAI,CAACF;QACpB,CAAA;AACJ;AAEAvB,SAAS,gBAAgB;IACvBE,GAAG,kDAAkD;QACnDH,GAAG2B,MAAM,CACP3B,GAAG4B,QAAQ,CAACrB,kCAAkC,CAACsB;YAC7C,MAAMC,QAAQ,IAAIxB,aAAauB;YAE/B3B,OAAO4B,OAAOC,cAAc,CAACzB;YAC7BJ,OAAO4B,MAAMrB,WAAW,EAAEqB,OAAOE,OAAO,CAACH,KAAKpB,WAAW,EAAEqB;YAC3D5B,OAAO4B,MAAMf,MAAM,EAAEiB,OAAO,CAACH,KAAKd,MAAM;YACxCb,OAAO4B,MAAMN,KAAK,CAACM,KAAK,EAAEE,OAAO,CAACH,KAAKL,KAAK,CAACM,KAAK;QACpD;IAEJ;AACF"}